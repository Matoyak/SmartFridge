<div class="container">
  <div class="row">
    <div class="col s12">
      <ul class="tabs" tabs>
        <li class="tab col s2"><a href="#test1" ng-click="controller.order('name')">Name</a></li>
        <li class="tab col s2"><a href="#test2" ng-click="controller.order('exp')">Expire Date</a></li>
        <li class="tab col s2"><a href="#test3" ng-click="controller.order('category')">Category</a></li>
        <li class="tab col s2">
          <a href="#test4"><input type="text" class="borderless-input" placeholder="Search" ng-model="model" /></a>
        </li>
      </ul>
    </div>
  </div>
  <!--markup for card-->
  <div class="row">
    <div class="col s12 m4 l3" ng-animate="'animate'" ng-repeat="item in controller.fridgeItems |  orderBy:controller.predicate:controller.reverse | filter:model">
      <div class="card shadow-{{controller.getColor(item.expDate)}}">
        <div class="card-image">
          <img class="activator" ng-src="{{controller.getImage(item)}}" />
        </div>
        <div class="card-content">
          <span class="card-title activator">{{item.name}}<i class="material-icons right">more_vert</i></span>
          <h6>Days left: {{item.expDate | amDifference : null : 'days'}}</h6>
        </div>

        <!--markup shown when card is clicked-->
        <div class="card-reveal">
          <div class="card-title">{{item.name}}<i class="material-icons right">close</i></div>
          <br />
          <input type="text" placeholder="New Name" ng-model="controller.newName" ng-show="controller.editView" />
          <p>Added: {{item.addedDate| date}}</p>
          <p>Expires: {{item.expDate | date}}</p>
          <br />
          <input id="inputCreated" name="date" type="text" placeholder="New Date" format="yyyy/mm/dd"
                 input-date ng-model="controller.newExpDate"
                 ng-change="controller.seeDate()" ng-show="controller.editView" />
          <p ng-hide="controller.editView">Days left: {{item.expDate | amDifference : null : 'days'}}</p>
          <div class="chip" ng-repeat="category in item.categories" ng-hide="controller.editView">
            <span> {{category.name}}</span>
          </div>
          <div class="chip" id="{{$index}}" ng-repeat="category in controller.selectedCategories"
               ng-click="controller.toggleItem(category, $index)" ng-show="controller.editView">
            {{category}}
          </div>

          <br />
          <a class='dropdown-button btn' href='javascript:void(0);' data-activates='demoDropdown' dropdown ng-show="controller.editView">
            Categories
          </a>
          <ul id='demoDropdown' class='dropdown-content'>
            <li id="{{$index}}" ng-repeat="category in controller.foodCategories">
              <a href="javascript:void(0);" id="{{$index}}"
                 ng-click="controller.toggleItem(category)" name="category"
                 value="{{category}}">{{category}}</a>
            </li>
          </ul>
          <div class="card-action">
            <div class="row">
              <div class="col s12">
                <a class="btn btn-success white-text sticky-button col s5 left" ng-click="controller.deleteItem(item)" ng-hide="controller.editView">Delete</a>
                <a class="btn btn-success white-text sticky-button col s5 right" ng-click="controller.showForm()" ng-hide="controller.editView">Edit</a>
                <a class="btn btn-success white-text sticky-button col s5 left" ng-show="controller.editView" ng-click='controller.testPut()'>Submit</a>
                <a class="btn btn-success white-text sticky-button col s5 right" ng-show="controller.editView" ng-click="controller.showForm()">Cancel</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>